---
import Layout from "../layouts/Layout.astro";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "../components/ui/card";
import { DeleteAccountModal } from "../components/dashboard/DeleteAccountModal";

// Get user info from middleware
const user = Astro.locals.user;
---

<Layout title="Ustawienia">
  <main class="container mx-auto max-w-4xl px-4 py-8">
    <h1 class="mb-8 text-3xl font-bold">Ustawienia konta</h1>

    <div class="space-y-6">
      <!-- Account Information Section -->
      <Card>
        <CardHeader>
          <CardTitle>Informacje o koncie</CardTitle>
          <CardDescription>Podstawowe dane Twojego konta</CardDescription>
        </CardHeader>
        <CardContent class="space-y-4">
          <div>
            <label class="text-sm font-medium text-muted-foreground">Adres e-mail</label>
            <p class="mt-1 text-base">{user?.email}</p>
          </div>
        </CardContent>
      </Card>

      <!-- Danger Zone Section -->
      <Card class="border-destructive">
        <CardHeader>
          <CardTitle class="text-destructive">Strefa niebezpieczna</CardTitle>
          <CardDescription> Nieodwracalne i destrukcyjne akcje zwiÄ…zane z Twoim kontem </CardDescription>
        </CardHeader>
        <CardContent>
          <DeleteAccountModal client:load />
        </CardContent>
      </Card>
    </div>
  </main>
</Layout>
